(self.webpackChunkadmin_dashboard_template_dashwind=self.webpackChunkadmin_dashboard_template_dashwind||[]).push([[4959],{9633:(e,t,a)=>{"use strict";a.d(t,{ET:()=>l,Po:()=>f,SW:()=>d,Ut:()=>o,_q:()=>u,co:()=>p,cw:()=>c,e8:()=>y,o4:()=>m,rL:()=>i});var n=a(100),r=a(8713),s=a(6692);const o=(e,t)=>async a=>{a({type:r.Bo});try{const s=localStorage.getItem("token"),{data:o,status:i}=await(0,n.t)({method:"POST",params:{},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s)},url:"/api/v2/event/add/".concat(t),data:e});if(200===i)return a({type:r.F6,payload:o}),o}catch(o){a({type:r.kB}),await(0,s.vG)(o)}},i=(e,t)=>async a=>{a({type:r.fU});try{const s=localStorage.getItem("token"),{data:o,status:i}=await(0,n.t)({method:"GET",params:{size:e.size,page:e.page,status:e.status,category_event_id:"latber"===t?1:2,search:e.search},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s)},url:"/api/v2/event",data:e});if(200===i)return a({type:r.fC,payload:o}),o}catch(o){a({type:r.MU}),await(0,s.vG)(o)}},c=e=>async t=>{t({type:r.zu});try{const a=localStorage.getItem("token"),{data:s,status:o}=await(0,n.t)({method:"DELETE",params:{},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a)},url:"/api/v2/event/".concat(e),data:{}});if(200===o)return t({type:r.D0,payload:s}),s}catch(a){t({type:r.Iq}),await(0,s.vG)(a)}},l=e=>async t=>{t({type:r.xo});try{const a=localStorage.getItem("token"),{data:s,status:o}=await(0,n.t)({method:"GET",params:{},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a)},url:"/api/v2/event/".concat(e),data:{}});if(200===o)return t({type:r.R_,payload:s}),s}catch(a){t({type:r.R_}),await(0,s.vG)(a)}},d=e=>async t=>{t({type:r.tS});try{const a=localStorage.getItem("token"),{data:s,status:o}=await(0,n.t)({method:"PATCH",params:{},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a)},url:"/api/v2/event/".concat(e.id),data:e});if(200===o)return t({type:r.jj,payload:s}),s}catch(a){t({type:r._Q}),await(0,s.vG)(a)}},u=(e,t)=>async a=>{a({type:r.zj});try{const s=localStorage.getItem("token"),{data:o,status:i}=await(0,n.t)({method:"GET",params:{size:t.size,page:t.page,search:t.search},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(s)},url:"/api/v2/event/registration/".concat(e),data:t});if(200===i)return a({type:r.Lz,payload:o}),o}catch(o){a({type:r.cF}),await(0,s.vG)(o)}},p=e=>{let{eventId:t,registrationMemberId:a}=e;return async e=>{e({type:r.zj});try{const s=localStorage.getItem("token"),{data:o,status:i}=await(0,n.t)({method:"POST",params:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},data:{eventId:t,registrationMemberId:a},url:"/api/v2/event/registration"});if(200===i)return e({type:r.Lz,payload:o}),o}catch(o){e({type:r.cF}),(0,s.vG)(o)}}},m=e=>{let{registrationMemberId:t,eventId:a}=e;return async e=>{e({type:r.eK});try{const s=localStorage.getItem("token"),{data:o,status:i}=await(0,n.t)({method:"GET",params:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},data:{},url:"/api/v2/event/registration/check/".concat(a,"/").concat(t)});if(200===i)return e({type:r.i_,payload:o}),o}catch(o){e({type:r.y0}),(0,s.vG)(o)}}},f=e=>async t=>{t({type:r.cs});try{const a=localStorage.getItem("token"),{data:s,status:o}=await(0,n.t)({method:"DELETE",params:{},headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{},url:"/api/v2/event/registration/delete/".concat(e)});if(200===o)return t({type:r.gq,payload:s}),s}catch(a){t({type:r.sc}),(0,s.vG)(a)}},y=e=>async t=>{t({type:r.fU});try{const a=localStorage.getItem("token"),{data:s,status:o}=await(0,n.t)({method:"GET",params:{size:e.size,page:e.page,status:e.status,category_event_id:e.category_event_id,search:e.search},headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a)},url:"/api/v2/event",data:e});if(200===o)return t({type:r.fC,payload:s}),s}catch(a){t({type:r.MU}),await(0,s.vG)(a)}}},3797:(e,t,a)=>{"use strict";a.d(t,{A:()=>i});var n=a(5043),r=a(9339),s=a.n(r),o=a(579);const i=e=>{const{labelTitle:t,labelDescription:a,defaultValue:r,containerStyle:i,placeholder:c,labelStyle:l,options:d,updateType:u,updateFormValue:p}=e,[m,f]=(0,n.useState)(r||"");return(0,o.jsxs)("div",{className:"inline-block ".concat(i),children:[(0,o.jsx)("label",{className:"label  ".concat(l),children:(0,o.jsxs)("div",{className:"label-text",children:[t,a&&(0,o.jsx)("div",{className:"tooltip tooltip-right","data-tip":a,children:(0,o.jsx)(s(),{className:"w-4 h-4"})})]})}),(0,o.jsxs)("select",{className:"select select-bordered w-full text-center",value:m,onChange:e=>{return t=e.target.value,p({updateType:u,value:t}),void f(t);var t},children:[(0,o.jsx)("option",{value:"",children:c}),d?d.map(((e,t)=>(0,o.jsx)("option",{value:e.value,children:e.name},t))):""]})]})}},6461:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});a(5043);const n=a.p+"static/media/loading.98d4ebe865b4469bcae5.gif";var r=a(579);const s=()=>(0,r.jsx)("div",{id:"loading",children:(0,r.jsx)("img",{src:n,alt:"loading",width:100})})},3809:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});a(5043);var n=a(579);const r=e=>{let{title:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"title-page",children:t})})}},941:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var n=a(9456),r=a(3216),s=a(5043),o=a(8379),i=a(6692),c=a(6461),l=a(7872),d=a(9650),u=a(3336),p=a(1806),m=a(4882),f=a(8076),y=a(9652),h=a(3460),v=a(3809),g=a(9633),b=a(917),j=a(9289),C=a(9355),k=a(6178),x=a.n(k),w=a(6734),E=a(579);const I=(0,w.A)((0,E.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined");var A=a(1906),O=a(3797),_=a(5071);const S={eventId:0,registrationMemberId:0},T=e=>{let{id:t}=e;const a=(0,n.wA)(),o=(0,r.zy)().state,[k,w]=(0,s.useState)([{value:"",name:"--Pilih Rider--"}]),[T,N]=(0,s.useState)(S),[B,D]=(0,s.useState)([]),[P,z]=(0,s.useState)(!1),M=(0,n.d4)((e=>{let{membersByUserIdState:t}=e;return t.membersByUserId.data})),U=(0,n.d4)((e=>{let{membersByUserIdState:t}=e;return t.membersByUserId.isLoading})),R=(0,n.d4)((e=>{let{membersByUserIdState:t}=e;return t.membersByUserId.status}));(0,s.useEffect)((()=>{if(console.log(M.result),"ready"===R&&M.result){const e=M.result.map((e=>({value:e.id,name:e.name_rider})));w([{value:"",name:"--Pilih Rider--"},...e]),a((0,g.co)({eventId:parseInt(t),registrationMemberId:e.map((e=>e.value))})).then((e=>{console.log("cek res",e),D(e.result)}))}}),[M.result,a,t,R]),(0,s.useEffect)((()=>{a((0,j.vl)())}),[a]),(0,s.useEffect)((()=>{T.registrationMemberId&&a((0,g.o4)(T)).then((e=>{e.result&&(200===e.responseData.code&&(0,i.nQ)(e.responseData.message),201===e.responseData.code&&((0,i.Sv)(e.responseData.message),setTimeout((()=>{a((0,j.vl)())}),2e3)))}))}),[a,T]);return(0,s.useEffect)((()=>{const e=new Date;x()(o.closed,"YYYY-MM-DD HH:mm:ss").toDate()<e&&z(!0)}),[o.closed]),U?(0,E.jsx)(c.A,{}):(0,E.jsxs)(l.A,{children:[(0,E.jsxs)("div",{id:"registration-event",children:[(0,E.jsx)(v.A,{title:"Registration Event ".concat(o.name)}),(0,E.jsx)("span",{children:(0,C.X3)(o.date)}),P?(0,E.jsx)("div",{className:"notify-closed",children:(0,E.jsx)("span",{children:"Registrasi event telah ditutup!!!"})}):(0,E.jsx)(O.A,{label:"Pilih Rider",defaultValue:"",disabled:P,updateFormValue:e=>{let{updateType:a,value:n}=e;N({...T,[a]:n,eventId:t})},updateType:"registrationMemberId",options:k})]}),(0,E.jsxs)("div",{children:[(0,E.jsx)(v.A,{title:"Data Rider yang terdaftar"}),(0,E.jsx)(d.A,{component:u.A,children:(0,E.jsxs)(p.A,{sx:{minWidth:250},"aria-label":"simple table",children:[(0,E.jsx)(m.A,{children:(0,E.jsxs)(f.A,{children:[(0,E.jsx)(y.A,{children:"Nama Rider"}),(0,E.jsx)(y.A,{children:"Action"})]})}),(0,E.jsx)(h.A,{children:B?B.map((e=>(0,E.jsxs)(f.A,{children:[(0,E.jsxs)(y.A,{children:[(0,E.jsx)("strong",{children:e.rider_name}),(0,E.jsx)("br",{}),e.categoryName,(0,E.jsx)("br",{}),(0,E.jsx)(A.A,{size:"small",variant:"contained",color:parseInt(e.status)?"primary":"error",children:(0,_.Iq)(parseInt(e.status))})]}),(0,E.jsx)(y.A,{children:(0,E.jsxs)("div",{className:"icon-cancel",onClick:()=>(e=>{(0,b.ZX)({title:"Konfirmasi Pembatalan Registrasi",message:"Apakah anda yakin akan membatalakan registrasi?",buttons:[{label:"Ya, Yakin",onClick:()=>{a((0,g.Po)(e)).then((e=>{e.result&&((0,i.Sv)("Pembatalan registasi event berhasil!!!"),setTimeout((()=>{a((0,j.vl)())}),2e3))}))}},{label:"Tidak"}]})})(e.id),children:[(0,E.jsx)(I,{})," ",(0,E.jsx)("span",{children:"Cancel"})]})})]}))):(0,E.jsx)(f.A,{children:(0,E.jsx)(y.A,{children:"Tidak ada rider yang terdaftar"})})})]})})]})]})},N=()=>{const e=(0,n.wA)(),{id:t}=(0,r.g)();return(0,s.useEffect)((()=>{e((0,o.wE)({title:"Event Detail"})),document.title="Event Detail"}),[e]),(0,E.jsx)(T,{id:t})}},9355:(e,t,a)=>{"use strict";a.d(t,{Ro:()=>s,X3:()=>i,tN:()=>o});var n=a(6178),r=a.n(n);a(3578),a(4348);function s(e){return r()(e).locale("id").format("dddd, DD MMMM YYYY")}const o=e=>new Date(e).toLocaleDateString("id-ID",{year:"numeric",month:"long",day:"numeric"});function i(e){return r()(e).locale("id").format("dddd, DD MMMM YYYY")}},5071:(e,t,a)=>{"use strict";a.d(t,{Iq:()=>i,M6:()=>s,X4:()=>l,cd:()=>c,u7:()=>o});var n=a(3507),r=a(579);const s=e=>{e.target.src=n};function o(e){return"https://wa.me/".concat(function(e){let t=e;if(!e||""===e)return"";e=e.replace(/ /g,"").replace(/\(/g,"").replace(/\)/g,"").replace(/\./g,"").replace(/-/g,"").replace(/\+/g,""),t=/[^+0-9]/.test(e.trim())?"":e.trim().startsWith("+62")?e.trim():e.trim().startsWith("0")?"62"+e.trim().substring(2):e.trim().startsWith("8")?"628"+e.trim().substring(2):e;return t}(e),"?text=").concat("Hallo Maparace,")}const i=e=>e?"Telah Diverifikasi":"Belum Diverifikasi",c=e=>e?URL.createObjectURL(e):n,l=e=>e?(0,r.jsx)("small",{className:"badge badge-success",children:"Success"}):(0,r.jsx)("small",{className:"badge badge-error",children:"Pending"})},9339:(e,t,a)=>{const n=a(5043);const r=n.forwardRef((function(e,t){let{title:a,titleId:r,...s}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:t,"aria-labelledby":r},s),a?n.createElement("title",{id:r},a):null,n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}))}));e.exports=r},1497:(e,t,a)=>{"use strict";var n=a(3218);function r(){}function s(){}s.resetWarningCache=r,e.exports=function(){function e(e,t,a,r,s,o){if(o!==n){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:r};return a.PropTypes=a,a}},5173:(e,t,a)=>{e.exports=a(1497)()},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},917:(e,t,a)=>{"use strict";var n,r,s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.ZX=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var a=document.createElementNS(e,"filter");a.setAttribute("id","gaussian-blur"),a.appendChild(t);var n=document.createElementNS(e,"svg");n.setAttribute("id","react-confirm-alert-firm-svg"),n.setAttribute("class","react-confirm-alert-svg"),n.appendChild(a),document.body.appendChild(n)}(),function(e){var t=document.getElementById(e.targetId||y);e.targetId&&!t&&console.error("React Confirm Alert:","Can not get element id (#"+e.targetId+")");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id=y,document.body.appendChild(t)),(f=(0,d.createRoot)(t)).render(c.default.createElement(m,e))}(e)};var i=a(5043),c=u(i),l=u(a(5173)),d=a(4391);function u(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var m=(r=n=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n.handleClickButton=function(e){e.onClick&&e.onClick(),n.close()},n.handleClickOverlay=function(e){var t=n.props,a=t.closeOnClickOutside,r=t.onClickOutside,s=e.target===n.overlay;a&&s&&(r(),n.close()),e.stopPropagation()},n.close=function(){var e=n.props.afterClose;document.body.classList.remove("react-confirm-alert-body-element"),function(e){var t=document.getElementById(e.targetId||y);t&&f.unmount(t)}(n.props),function(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t);document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}(e)},n.keyboard=function(e){var t=n.props,a=t.closeOnEscape,r=t.onKeypressEscape,s=t.onkeyPress,o=t.keyCodeForClose,i=e.keyCode,c=27===i;o.includes(i)&&n.close(),a&&c&&(r(e),n.close()),s&&s()},n.componentDidMount=function(){document.addEventListener("keydown",n.keyboard,!1)},n.componentWillUnmount=function(){document.removeEventListener("keydown",n.keyboard,!1),n.props.willUnmount()},n.renderCustomUI=function(){var e=n.props,t=e.title,a=e.message,r=e.buttons;return(0,e.customUI)({title:t,message:a,buttons:r,onClose:n.close})},p(n,a)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=t.message,r=t.buttons,o=t.childrenElement,i=t.customUI,l=t.overlayClassName;return c.default.createElement("div",{className:"react-confirm-alert-overlay "+l,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},c.default.createElement("div",{className:"react-confirm-alert"},i?this.renderCustomUI():c.default.createElement("div",{className:"react-confirm-alert-body"},a&&c.default.createElement("h1",null,a),n,o(),c.default.createElement("div",{className:"react-confirm-alert-button-group"},r.map((function(t,a){return c.default.createElement("button",s({key:a,className:t.className},t,{onClick:function(a){return e.handleClickButton(t)}}),t.label)}))))))}}]),t}(i.Component),n.propTypes={title:l.default.string,message:l.default.string,buttons:l.default.array.isRequired,childrenElement:l.default.func,customUI:l.default.func,closeOnClickOutside:l.default.bool,closeOnEscape:l.default.bool,keyCodeForClose:l.default.arrayOf(l.default.number),willUnmount:l.default.func,afterClose:l.default.func,onClickOutside:l.default.func,onKeypressEscape:l.default.func,onkeyPress:l.default.func,overlayClassName:l.default.string},n.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},r);var f=null,y="react-confirm-alert"},3507:(e,t,a)=>{"use strict";e.exports=a.p+"static/media/No-Image-Placeholder.svg.5dfb846c033fb8dcff45.webp"}}]);
//# sourceMappingURL=4959.b6070175.chunk.js.map